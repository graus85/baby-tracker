<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Baby Tracker</title>
  </head>
  <body>
    <div id="root">
      <div style="min-height:100vh;display:grid;place-items:center;background:#0b1020;color:#e6eef8;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial">
        <div style="text-align:center">
          <div style="font-size:16px;margin-bottom:6px">Loading appâ€¦</div>
          <div style="opacity:.75;font-size:12px">
            If it stays here, open <a href="/health" style="color:#0ea5e9">/health</a>.
          </div>
        </div>
      </div>
    </div>

    <!-- mini overlay per errori JS/Promise e mancato mount -->
    <script>
      (function () {
        function show(msg) {
          var el = document.createElement('div');
          el.style.position = 'fixed';
          el.style.bottom = '16px';
          el.style.left = '16px';
          el.style.maxWidth = '90vw';
          el.style.padding = '10px 12px';
          el.style.borderRadius = '8px';
          el.style.background = 'rgba(220, 38, 38, .9)';
          el.style.color = '#fff';
          el.style.font = '12px/1.4 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial';
          el.style.zIndex = 9999;
          el.textContent = msg;
          document.body.appendChild(el);
        }
        window.addEventListener('error', function (e) {
          var m = 'JS error: ' + (e.message || (e.error && e.error.message) || e.error || 'unknown');
          show(m);
          console.error(m, e);
        });
        window.addEventListener('unhandledrejection', function (e) {
          var r = e.reason;
          var m = 'Promise error: ' + (r && (r.message || r.toString()) || 'unknown');
          show(m);
          console.error(m, e);
        });
        setTimeout(function () {
          if (!document.documentElement.hasAttribute('data-app-mounted')) {
            show('App did not mount (bundle not executed?). Check /health and Network tab.');
          }
        }, 4000);
      })();
    </script>

    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
